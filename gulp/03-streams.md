# Streams / Потоки

Gulp уможнює різноманітні перетворення файлів завдяки системі потоків.

```js
gulp.task('НАЗВА_ЗАВДАННЯ', function () {
  return gulp.src('ФАЙЛ(И)')
    .pipe(ПЕРЕТВОРЕННЯ_1)
    .pipe(ПЕРЕТВОРЕННЯ_2)
    ...
    .pipe(ПЕРЕТВОРЕННЯ_N);
});
```

## Transformations / Перетворення
Суть перетворення це отримати файли у стані А, перетворити їх у стан Б і передати цей стан наступному перетворенню, якщо таке існує.


**Ключові моменти:**
* Ланцюг перетворень записується завдяки вбудованому методу `.pipe(ПЕРЕТВОРЕННЯ)`, де `ПЕРЕТВОРЕННЯ` це виклик функції перетворювання
* Перетворення в ланцюгу перетвореннь виконуються послідовно, одне за одним
* Якщо `ПЕРЕТВОРЕННЯ_N` викидає помилку, то `ПЕРЕТВОРЕННЯ_N+1` і наступні перетворення не відбуваються

У якості перетворень часто використовуються спеціальні плагіни, створені для роботи з Gulp, або власні функції написані відповідно до документації потоків у Gulp.

## Example / Приклад
Напишемо завдання, котре візьме файли , мінімізує їх та збереже у новій директорії.

```js
/* Під"єднати плагін "gulp-uglify" */
const uglify = require('gulp-uglify');

gulp.task('js', function () {
  /* Взяти кожен файл, що закінчується на ".js" у папці "js/" */
  return gulp.src('js/*.js')

    /* Пропустити кожен файл через плагін "gulp-uglify", котрий мінімізує JavaScript */
    .pipe(uglify())
    
    /* Зберегти мінімізовані файли у нову директорію */
    .pipe(gulp.dest('build/js'));
})
```
